var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e,n,o){if(t){const r=u(t,e,n,o);return t[0](r)}}function u(t,n,o,r){return t[1]&&r?e(o.ctx.slice(),t[1](r(n))):o.ctx}function s(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function f(t,e,n,o,r,c){if(r){const l=u(e,n,o,c);t.p(l,r)}}function d(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function a(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}let v;function _(t){v=t}function k(){if(!v)throw new Error("Function called outside component initialization");return v}function E(t){k().$$.after_update.push(t)}function C(){const t=k();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const c=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(e,n,{cancelable:o});return r.slice().forEach((e=>{e.call(t,c)})),!c.defaultPrevented}return!0}}const w=[],A=[];let S=[];const j=[],N=Promise.resolve();let T=!1;function B(){T||(T=!0,N.then(D))}function L(t){S.push(t)}const M=new Set;let O=0;function D(){if(0!==O)return;const t=v;do{try{for(;O<w.length;){const t=w[O];O++,_(t),U(t.$$)}}catch(t){throw w.length=0,O=0,t}for(_(null),w.length=0,O=0;A.length;)A.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];M.has(e)||(M.add(e),e())}S.length=0}while(w.length);for(;j.length;)j.pop()();T=!1,M.clear(),_(t)}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const q=new Set;let H;function P(){H={r:0,c:[],p:H}}function z(){H.r||r(H.c),H=H.p}function F(t,e){t&&t.i&&(q.delete(t),t.i(e))}function R(t,e,n,o){if(t&&t.o){if(q.has(t))return;q.add(t),H.c.push((()=>{q.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function G(t){t&&t.c()}function I(t,e,o,l){const{fragment:i,after_update:u}=t.$$;i&&i.m(e,o),l||L((()=>{const e=t.$$.on_mount.map(n).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(L)}function J(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];S.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),S=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(e,n,c,l,i,u,s,f=[-1]){const d=v;_(e);const a=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:n.target||d.$$.root};s&&s(a.root);let p=!1;if(a.ctx=c?c(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return a.ctx&&i(a.ctx[t],a.ctx[t]=r)&&(!a.skip_bound&&a.bound[t]&&a.bound[t](r),p&&function(t,e){-1===t.$$.dirty[0]&&(w.push(t),B(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],a.update(),p=!0,r(a.before_update),a.fragment=!!l&&l(a.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);a.fragment&&a.fragment.l(t),t.forEach($)}else a.fragment&&a.fragment.c();n.intro&&F(e.$$.fragment),I(e,n.target,n.anchor,n.customElement),D()}_(d)}class Q{$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!c(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(t){let e;return{c(){e=h("h3"),e.textContent="BESTSELLER"},m(t,n){p(t,e,n)},d(t){t&&$(e)}}}function W(e){let n,o,c,l,i,u,s,f,d,y,v,_,k,E,C=e[2]&&V();return{c(){n=h("article"),o=h("h1"),c=g(e[0]),l=m(),i=h("h2"),u=g("$"),s=g(e[1]),f=m(),C&&C.c(),d=m(),y=h("button"),y.textContent="Add to Cart",v=m(),_=h("button"),_.textContent="Delete"},m(t,r){p(t,n,r),a(n,o),a(o,c),a(n,l),a(n,i),a(i,u),a(i,s),a(n,f),C&&C.m(n,null),a(n,d),a(n,y),a(n,v),a(n,_),k||(E=[b(y,"click",e[3]),b(_,"click",e[4])],k=!0)},p(t,[e]){1&e&&x(c,t[0]),2&e&&x(s,t[1]),t[2]?C||(C=V(),C.c(),C.m(n,d)):C&&(C.d(1),C=null)},i:t,o:t,d(t){t&&$(n),C&&C.d(),k=!1,r(E)}}}function X(t,e,n){let{title:o}=e,{price:r}=e,{bestseller:c=!0}=e;const l=C();return t.$$set=t=>{"title"in t&&n(0,o=t.title),"price"in t&&n(1,r=t.price),"bestseller"in t&&n(2,c=t.bestseller)},[o,r,c,function(){l("add-to-cart",{id:"p1"})},function(){l("delete",{id:"p1"})}]}class Y extends Q{constructor(t){super(),K(this,t,X,W,l,{title:0,price:1,bestseller:2})}}const Z=t=>({didAgree:1&t}),tt=t=>({didAgree:t[0]}),et=t=>({}),nt=t=>({});function ot(t){let e,n,o,c,l,u,x,v,_,k,E,C,w,A,S,j;const N=t[3].header,T=i(N,t,t[2],nt),B=t[3].default,L=i(B,t,t[2],null),M=t[3].footer,O=i(M,t,t[2],tt),D=O||function(t){let e,n,o,r,c;return{c(){e=h("button"),n=g("Close"),e.disabled=o=!t[0]},m(o,l){p(o,e,l),a(e,n),r||(c=b(e,"click",t[6]),r=!0)},p(t,n){1&n&&o!==(o=!t[0])&&(e.disabled=o)},d(t){t&&$(e),r=!1,c()}}}(t);return{c(){e=h("div"),n=m(),o=h("div"),c=h("header"),T&&T.c(),l=m(),u=h("div"),L&&L.c(),x=m(),v=h("div"),_=h("p"),_.textContent="Before you close, you need to agree to our terms!",k=m(),E=h("button"),E.textContent="Agree",C=m(),w=h("footer"),D&&D.c(),y(e,"class","backdrop svelte-kf5j36"),y(c,"class","svelte-kf5j36"),y(u,"class","content"),y(v,"class","disclaimer"),y(o,"class","modal svelte-kf5j36")},m(r,i){p(r,e,i),p(r,n,i),p(r,o,i),a(o,c),T&&T.m(c,null),a(o,l),a(o,u),L&&L.m(u,null),a(o,x),a(o,v),a(v,_),a(v,k),a(v,E),a(o,C),a(o,w),D&&D.m(w,null),A=!0,S||(j=[b(e,"click",t[4]),b(E,"click",t[5])],S=!0)},p(t,[e]){T&&T.p&&(!A||4&e)&&f(T,N,t,t[2],A?s(N,t[2],e,et):d(t[2]),nt),L&&L.p&&(!A||4&e)&&f(L,B,t,t[2],A?s(B,t[2],e,null):d(t[2]),null),O?O.p&&(!A||5&e)&&f(O,M,t,t[2],A?s(M,t[2],e,Z):d(t[2]),tt):D&&D.p&&(!A||1&e)&&D.p(t,A?e:-1)},i(t){A||(F(T,t),F(L,t),F(D,t),A=!0)},o(t){R(T,t),R(L,t),R(D,t),A=!1},d(t){t&&$(e),t&&$(n),t&&$(o),T&&T.d(t),L&&L.d(t),D&&D.d(t),S=!1,r(j)}}}function rt(t,e,n){let{$$slots:o={},$$scope:r}=e;const c=C();let l=!1,i=!1;var u;u=()=>{console.log("onMount")},k().$$.on_mount.push(u),function(t){k().$$.on_destroy.push(t)}((()=>{console.log("onDestroy")})),function(t){k().$$.before_update.push(t)}((()=>{console.log("beforeUpdate"),i=l})),E((()=>{if(console.log("afterUpdate"),i){const t=document.querySelector(".modal");t.scrollTo(0,t.scrollHeight)}})),console.log("Script executed!");return t.$$set=t=>{"$$scope"in t&&n(2,r=t.$$scope)},[l,c,r,o,()=>c("cancel"),()=>n(0,l=!0),()=>c("close")]}class ct extends Q{constructor(t){super(),K(this,t,rt,ot,l,{})}}function lt(t,e,n){const o=t.slice();return o[9]=e[n],o}function it(t){let n,o;const r=[t[9]];let c={};for(let t=0;t<r.length;t+=1)c=e(c,r[t]);return n=new Y({props:c}),n.$on("add-to-cart",pt),n.$on("delete",$t),{c(){G(n.$$.fragment)},m(t,e){I(n,t,e),o=!0},p(t,e){const o=4&e?function(t,e){const n={},o={},r={$$scope:1};let c=t.length;for(;c--;){const l=t[c],i=e[c];if(i){for(const t in l)t in i||(o[t]=1);for(const t in i)r[t]||(n[t]=i[t],r[t]=1);t[c]=i}else for(const t in l)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(r,[(c=t[9],"object"==typeof c&&null!==c?c:{})]):{};var c;n.$set(o)},i(t){o||(F(n.$$.fragment,t),o=!0)},o(t){R(n.$$.fragment,t),o=!1},d(t){J(n,t)}}}function ut(t){let e,n;return e=new ct({props:{$$slots:{footer:[dt,({didAgree:t})=>({8:t}),({didAgree:t})=>t?256:0],header:[ft,({didAgree:t})=>({8:t}),({didAgree:t})=>t?256:0],default:[st,({didAgree:t})=>({8:t}),({didAgree:t})=>t?256:0]},$$scope:{ctx:t}}}),e.$on("cancel",t[6]),e.$on("close",t[7]),{c(){G(e.$$.fragment)},m(t,o){I(e,t,o),n=!0},p(t,n){const o={};4354&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function st(e){let n;return{c(){n=h("p"),n.textContent="This works!"},m(t,e){p(t,n,e)},p:t,d(t){t&&$(n)}}}function ft(e){let n;return{c(){n=h("h1"),n.textContent="Hello!",y(n,"slot","header")},m(t,e){p(t,n,e)},p:t,d(t){t&&$(n)}}}function dt(t){let e,n,o,r,c;return{c(){e=h("button"),n=g("Confirm"),y(e,"slot","footer"),e.disabled=o=!t[8]},m(o,l){p(o,e,l),a(e,n),r||(c=b(e,"click",t[5]),r=!0)},p(t,n){256&n&&o!==(o=!t[8])&&(e.disabled=o)},d(t){t&&$(e),r=!1,c()}}}function at(t){let e,n,o,c,l,i,u,s,f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=it(lt(t,f,e));const a=t=>R(d[t],1,1,(()=>{d[t]=null}));let g=t[1]&&ut(t);return{c(){for(let t=0;t<d.length;t+=1)d[t].c();e=m(),n=h("button"),n.textContent="Show Modal",o=m(),g&&g.c(),c=m(),l=h("textarea"),y(l,"rows","5"),l.value=t[0]},m(r,f){for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(r,f);p(r,e,f),p(r,n,f),p(r,o,f),g&&g.m(r,f),p(r,c,f),p(r,l,f),i=!0,u||(s=[b(n,"click",t[4]),b(l,"keydown",t[3])],u=!0)},p(t,[n]){if(4&n){let o;for(f=t[2],o=0;o<f.length;o+=1){const r=lt(t,f,o);d[o]?(d[o].p(r,n),F(d[o],1)):(d[o]=it(r),d[o].c(),F(d[o],1),d[o].m(e.parentNode,e))}for(P(),o=f.length;o<d.length;o+=1)a(o);z()}t[1]?g?(g.p(t,n),2&n&&F(g,1)):(g=ut(t),g.c(),F(g,1),g.m(c.parentNode,c)):g&&(P(),R(g,1,1,(()=>{g=null})),z()),(!i||1&n)&&(l.value=t[0])},i(t){if(!i){for(let t=0;t<f.length;t+=1)F(d[t]);F(g),i=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)R(d[t]);R(g),i=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(d,t),t&&$(e),t&&$(n),t&&$(o),g&&g.d(t),t&&$(c),t&&$(l),u=!1,r(s)}}}function pt(t){console.log(t)}function $t(t){console.log(t.detail)}function ht(t,e,n){let o="This is some dummy text!",r=!1;E((()=>{}));return[o,r,[{id:"p1",title:"A book",price:9.99}],function(t){if(9!==t.which)return;t.preventDefault();const e=t.target.selectionStart,r=t.target.selectionEnd,c=t.target.value;n(0,o=c.slice(0,e)+c.slice(e,r).toUpperCase()+c.slice(r)),(B(),N).then((()=>{t.target.selectionStart=e,t.target.selectionEnd=r}))},()=>n(1,r=!0),()=>n(1,r=!1),()=>n(1,r=!1),()=>n(1,r=!1)]}return new class extends Q{constructor(t){super(),K(this,t,ht,at,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
